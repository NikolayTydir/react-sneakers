<script>
    $(document).ready(function () {

        var arr = {
            'filter_1':{
                0: {
                    'name': 'Интернет-магазины 1',
                    'image': 'mok_up_prev.png',
                    'bigimage':'mok_up.png'
                },
                1: {
                    'name': 'Интернет-магазины 2',
                    'image': 'mok_up_prev.png',
                    'bigimage':'mok_up.png'
                },
                2: {
                    'name': 'Интернет-магазины 3',
                    'image': 'mok_up_prev.png',
                    'bigimage':'mok_up.png'
                },
                3: {
                    'name': 'Интернет-магазины 4',
                    'image': 'mok_up_prev.png',
                    'bigimage':'mok_up.png'
                },
                4: {
                    'name': 'Интернет-магазины 5',
                    'image': 'mok_up_prev.png',
                    'bigimage':'mok_up.png'
                }

            },
            'filter_2':{
                0: {
                    'name': 'Корпоративные сайты 1',
                    'image': 'Macbook_preview.png',
                    'bigimage':'Macbook.png'
                },
                1: {
                    'name': 'Корпоративные сайты 2',
                    'image': 'Macbook_preview.png',
                    'bigimage':'Macbook.png'
                },
                2: {
                    'name': 'Корпоративные сайты 3',
                    'image': 'Macbook_preview.png',
                    'bigimage':'Macbook.png'
                },
                3: {
                    'name': 'Корпоративные сайты 4',
                    'image': 'Macbook_preview.png',
                    'bigimage':'Macbook.png'
                },
                4: {
                    'name': 'Корпоративные сайты 5',
                    'image': 'Macbook_preview.png',
                    'bigimage':'Macbook.png'
                }

            },
            'filter_3':{
                0: {
                    'name': 'Мобильные приложения 1',
                    'image': 'mok_up_prev.png',
                    'bigimage':'mok_up.png'
                },
                1: {
                    'name': 'Мобильные приложения 2',
                    'image': 'mok_up_prev.png',
                    'bigimage':'mok_up.png'

                },
                2: {
                    'name': 'Мобильные приложения 3',
                    'image': 'mok_up_prev.png',
                    'bigimage':'mok_up.png'
                },
                3: {
                    'name': 'Мобильные приложения 4',
                    'image': 'mok_up_prev.png',
                    'bigimage':'mok_up.png'
                },
                4: {
                    'name': 'Мобильные приложения 5',
                    'image': 'mok_up_prev.png',
                    'bigimage':'mok_up.png'
                }
            },
        };

        $(".filter_button").click(function(e){
            e.preventDefault();
            $('.filter_button').removeClass('active');
            $(this).addClass('active');
            var indexVal = jQuery(this).data('filter');

            if(indexVal == 0){
                $('.slider-for').slick('unslick');
                $('.slider-nav').slick('unslick');

                $('.slider-for').html('');
                $('.slider-nav').html('');
                for(var i = 1;i<=3;i++){
                    var j = 0;
                    while (j < Object.keys(arr['filter_'+i+'']).length){
                        $('.slider-for').append('<div class="row slides_content" data-filter = "1"><div class="left_side"><div class="app">Мобильное приложение</div><div class="name">«'+arr['filter_'+i+''][j]['name']+'»</div><a href="#" class="go_to"><img src="../app/img/foreign.png" alt="foreign"><span>Скачать приложение</span></a></div><div class="right_side"><img src="../app/img/'+arr['filter_'+i+''][j]['bigimage']+'" alt="mok_up" class="img-responsive"></div></div>');
                        j++;
                    }
                }
                for(var i = 1;i<=3;i++){
                    var j = 0;
                    while (j < Object.keys(arr['filter_'+i+'']).length){
                        $('.slider-nav').append('<div class="preview" data-filter = "1" > <img src="../app/img/'+arr['filter_'+i+''][j]['image']+'" alt="mok_up_prev">'+arr['filter_'+i+''][j]['name']+' </div>');
                        j++;
                    }
                }
                $('.slider-for').slick("slickRemove");
                $('.slider-nav').slick('slickRemove');
                $('.slider-for').slick('refresh');
                $('.slider-nav').slick('refresh');
            }else{
                $('.slider-for').slick('unslick');
                $('.slider-nav').slick('unslick');

                $('.slider-for').html('');
                $('.slider-nav').html('');
                //	console.log(arr['filter_'+indexVal+''][0]);
                var j = 0;
                while (j< Object.keys(arr['filter_'+indexVal+'']).length){
                    $('.slider-for').append('<div class="row slides_content" ><div class="left_side"><div class="app">Мобильное приложение</div><div class="name">«'+arr["filter_"+indexVal+""][j]["name"]+'»</div><a href="#" class="go_to"><img src="../app/img/foreign.png" alt="foreign"  /><span>Скачать приложение</span></a></div><div class="right_side"><img src="../app/img/'+arr["filter_"+indexVal+""][j]["bigimage"]+'" alt="mok_up" class="img-responsive" /></div></div>');
                    j++;
                }

                var k = 0;
                while (k< Object.keys(arr['filter_'+indexVal+'']).length){
                    $('.slider-nav').append('<div class="preview" data-filter = "1" > <img src="../app/img/'+arr['filter_'+indexVal+''][k]['image']+'" alt="mok_up_prev">'+arr['filter_'+indexVal+''][k]['name']+' </div>');
                    k++;
                }
                setTimeout(function () {
                    $('.prev').removeClass('slick-hidden');
                    $('.next').removeClass('slick-hidden');

                },300)

                $('.slider-for').slick("slickRemove");
                $('.slider-nav').slick('slickRemove');
                $('.next').on('click', function() {
                    $('.slider-for').slick('slickNext');
                    $('.slider-nav').slick('slickNext');
                });

                $('.prev').on('click', function() {
                    $('.slider-for').slick('slickPrev');
                    $('.slider-nav').slick('slickNext');
                });

                $('.slider-for').slick('refresh');
                $('.slider-nav').slick('refresh');


            }

        });

    })

</script>